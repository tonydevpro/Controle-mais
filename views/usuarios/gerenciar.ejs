<%- include('../partials/header', { usuario: usuario }) %>

<main class="pagina-lista">
  <h2>Gerenciar Usu√°rios</h2>

  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Tipo</th>
        <th>Admin</th>
      </tr>
    </thead>
    <tbody>
      <% usuarios.forEach(u => { %>
        <tr>
          <td><%= u.nome %></td>
          <td><%= u.email %></td>
          <td>
            <form action="/usuario/atualizar-tipo" method="POST" style="display:flex; gap:0.5rem; align-items:center;">
              <input type="hidden" name="id" value="<%= u.id %>">
              <select name="tipo">
                <option value="usuario" <%= u.tipo === 'usuario' ? 'selected' : '' %>>Usu√°rio</option>
                <option value="admin" <%= u.tipo === 'admin' ? 'selected' : '' %>>Admin</option>
              </select>
              <button type="submit">Salvar</button>
            </form>
          </td>
          <td style="text-align:center;"><%= u.tipo === 'admin' ? 'üëë' : '' %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</main>

<%- include('../partials/footer') %>
